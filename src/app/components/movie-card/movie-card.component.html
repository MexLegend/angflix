<button
	class="flex flex-col items-center gap-4 group w-full max-w-[260px] aspect-[2/3] p-4 relative mx-auto"
	[routerLink]="['/movie/' + movie.id]"
>
	<picture
		class="w-full h-full rounded-lg overflow-clip absolute inset-0 before:absolute before:inset-0 before:bg-gradient-to-b before:from-black/80 before:to-transparent before:to-30% before:z-10"
	>
		<img
			class="w-full h-full rounded-lg object-cover pointer-events-none transition-transform duration-200 brightness-[75%] mx-auto"
			[src]="movie.poster_path"
			[alt]="movie.title"
		/>
		<div
			class="absolute inset-0 m-auto z-30 flex items-center justify-center bg-black/25 rounded-full w-12 h-12 p-1 border border-white opacity-0 group-hover:opacity-100 transition-all duration-500"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="16"
				height="16"
				fill="white"
				class="bi bi-play-fill w-7 h-7"
				viewBox="0 0 16 16"
			>
				<path
					d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"
				/>
			</svg>
		</div>
	</picture>
	<div class="flex flex-col justify-between z-10 w-full h-full mx-auto">
		<div class="flex flex-col w-full">
			<h4 class="text-white text-base font-semibold text-left line-clamp-1">
				{{ movie.title }}
			</h4>
			<div class="flex gap-2">
				<time class="text-white/80 text-sm">{{ movieDate() | date : 'dd/MM/yyyy' }}</time>
				<app-rating-stars [initialStars]="movieRating()" [wholeStars]="false" />
			</div>
		</div>
		<app-watchlist-button class="mx-auto" [movie]="movie" [isInWatchList]="isMovieInWatchList()" />
	</div>
</button>
